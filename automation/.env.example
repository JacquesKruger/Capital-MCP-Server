# =============================================================================
# TRADING AUTOMATION STACK - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control - it contains sensitive information

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_USER=trader
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD_HERE
POSTGRES_DB=trading

# =============================================================================
# N8N CONFIGURATION
# =============================================================================
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=YOUR_SECURE_PASSWORD_HERE

# =============================================================================
# AI PROVIDER CONFIGURATION (OpenAI or Anthropic)
# =============================================================================
AI_PROVIDER=openai                 # or anthropic
AI_BASE_URL=https://api.openai.com/v1
AI_MODEL=gpt-4o-mini               # Claude 3.5 Sonnet or GPT-4o are ideal
AI_API_KEY=sk-xxxxxx               # not checked into git

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================
MCP_IMAGE=capital-mcp-server:latest
MCP_CONTAINER=cool_hopper

# =============================================================================
# CAPITAL.COM API CREDENTIALS
# =============================================================================
CAP_ENVIRONMENT=demo               # demo or live
CAP_API_KEY=your_api_key_here
CAP_IDENTIFIER=your_identifier_here
CAP_PASSWORD=your_password_here

# =============================================================================
# SAFETY & APPROVAL CONFIGURATION
# =============================================================================
APPROVAL_SECRET=replace_me_with_strong_secret
TRADING_HALTED=0                   # Set to 1 to halt all trading

# =============================================================================
# TELEGRAM BOT CONFIGURATION
# =============================================================================
# Get these from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_HERE
TELEGRAM_CHAT_ID=YOUR_CHAT_ID_HERE
TELEGRAM_ALLOWED_USERNAMES=YourUser,CoTrader
TELEGRAM_WEBHOOK_URL=

# =============================================================================
# BANDIT LEARNING CONFIGURATION
# =============================================================================
BANDIT_ENABLED=true
BANDIT_ALGORITHM=linucb            # or logistic
BANDIT_EPSILON_BASE=0.08
BANDIT_EPSILON_HIGH_IV=0.15
BANDIT_EPSILON_LOW_IV=0.05

# =============================================================================
# BSM ANALYSIS CONFIGURATION
# =============================================================================
BSM_ENABLED=false                  # Set to true to enable BSM analysis
BSM_MODE=analysis_only             # analysis_only or options_trading
BSM_RISK_FREE_RATE=0.04
BSM_IV_RANK_LOOKBACK_DAYS=252
BSM_MISPRICING_THRESHOLD=0.1
BSM_MIN_VEGA=0.02
BSM_PROXY_VOL_BIAS=1.10

# =============================================================================
# RISK MANAGEMENT CONFIGURATION
# =============================================================================
MAX_RISK_PER_TRADE=0.02            # 2% of account per trade
MAX_DAILY_LOSS=0.05                # 5% of account daily loss limit
MAX_POSITIONS=5                    # Maximum concurrent positions
SLIPPAGE_BUDGET=0.001              # 0.1% slippage budget

# =============================================================================
# SCHEDULING CONFIGURATION
# =============================================================================
DATA_PULL_INTERVAL=15m             # How often to pull market data
POST_TRADE_LOOP_INTERVAL=1m        # How often to check for trade updates
NIGHTLY_EVAL_TIME=23:59            # When to run nightly evaluation
PRE_OPEN_RANKING_TIME=08:00         # When to run pre-market ranking

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=INFO
ENABLE_PERFORMANCE_LOGGING=true
ENABLE_BANDIT_LOGGING=true
ENABLE_BSM_LOGGING=false

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================
DEBUG_MODE=false
ENABLE_MOCK_DATA=false
ENABLE_DRY_RUN=false
